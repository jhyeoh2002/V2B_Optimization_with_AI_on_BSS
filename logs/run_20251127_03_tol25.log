Crash diagnostics ON


==================================================
PART 1: Data preprocess for 2023-01-01 00:00:00 to 2024-09-30 23:00:00...
==================================================

	1.1 Preprocessing radiation data...
		[INFO] Radiation data already exists at './data/timeseries/radiation_data.csv'

	1.2 Preprocessing temperature data...
		[INFO] Temperature data already exists at './data/timeseries/temperature_data.csv'

	1.3 Preprocessing building data...
		[INFO] Building data already exists at './data/timeseries/building_data.csv'

	1.4 Preprocessing electricity cost data...
		[INFO] Electricity cost data already exists at './data/timeseries/electricitycostG2B_data.csv' and './data/timeseries/electricitycostG2V_data.csv'

	1.5 Preprocessing battery demand series data...
		[INFO] Found existing battery data at './data/battery_demand/tol25/resample_full.csv' and './data/battery_demand/tol25/resample_train.csv'

		[INFO] Number of series for clean windows = (168, 37)
		[INFO] Number of eligible series for Case 2 = (1377, 37)
		[INFO] Number of seeds ready for Case 3  = (2000, 36)

		[INFO] Case 1 exists — loaded battery demand from './data/battery_demand/tol25/case1_real_only/battery_demand.npy' with shape (168, 37).
		[INFO] Case 2 exists — loaded battery demand from './data/battery_demand/tol25/case2_nan_filled/battery_demand.npy' with shape (1545, 37).
		[INFO] Case 3 exists — loaded battery demand from './data/battery_demand/tol25/case3_extended_generated/battery_demand.npy' with shape (3545, 37).

	1.6 Generating battery schedule...
		[INFO] Case 1 exists — loaded from './data/battery_demand/tol25/case1_real_only/battery_availability.npy' and './data/battery_demand/tol25/case1_real_only/battery_details.npy' shape (168, 263, 36) and (4, 168, 263)
		[INFO] Case 2 exists — loaded from './data/battery_demand/tol25/case2_nan_filled/battery_availability.npy' and './data/battery_demand/tol25/case2_nan_filled/battery_details.npy' shape (1545, 311, 36) and (4, 1545, 311)
		[INFO] Case 3 exists — loaded from './data/battery_demand/tol25/case3_extended_generated/battery_availability.npy' and './data/battery_demand/tol25/case3_extended_generated/battery_details.npy' shape (3545, 422, 36) and (4, 3545, 422)


==================================================
PART 2: MILP Optimization...
==================================================

	2.1 Optimizing Case 1...
		[INFO] Loaded 168 samples from './data/battery_demand/tol25/case1_real_only'
		[INFO] Results already exist at './data/optimization_results/tol25/case1_real_only/optimization/V2B.npy'. Skipping optimization run.
		[INFO] Results already exist at './data/optimization_results/tol25/case1_real_only/immediate_charging/V2B.npy'. Skipping immediate_charging run.
		[INFO] Case 1 completed.

	2.2 Optimizing Case 2...
		[INFO] Loaded 1545 samples from './data/battery_demand/tol25/case2_nan_filled'
		[INFO] Results already exist at './data/optimization_results/tol25/case2_nan_filled/optimization/V2B.npy'. Skipping optimization run.
		[INFO] Results already exist at './data/optimization_results/tol25/case2_nan_filled/immediate_charging/V2B.npy'. Skipping immediate_charging run.
		[INFO] Case 2 completed.

	2.3 Optimizing Case 3...
		[INFO] Loaded 3545 samples from './data/battery_demand/tol25/case3_extended_generated'
		[INFO] Results already exist at './data/optimization_results/tol25/case3_extended_generated/optimization/V2B.npy'. Skipping optimization run.
		[INFO] Found checkpoint: './data/optimization_results/tol25/case3_extended_generated/immediate_charging_checkpoint.npz'
		[INFO] Resuming from iteration 2470
		[INFO] Processing immediate_charging series:   0%|                   | 0/1075 [00:00<?, ?series/s]		[INFO] Processing immediate_charging series:   1%|          | 10/1075 [00:05<10:08,  1.75series/s]		[INFO] Processing immediate_charging series:   2%|▏         | 20/1075 [00:11<10:01,  1.76series/s]		[INFO] Processing immediate_charging series:   3%|▎         | 30/1075 [00:18<10:43,  1.62series/s]		[INFO] Processing immediate_charging series:   4%|▎         | 40/1075 [00:23<10:16,  1.68series/s]		[INFO] Processing immediate_charging series:   5%|▍         | 50/1075 [00:29<10:13,  1.67series/s]		[INFO] Processing immediate_charging series:   6%|▌         | 60/1075 [00:35<10:02,  1.68series/s]		[INFO] Processing immediate_charging series:   7%|▋         | 70/1075 [00:41<10:06,  1.66series/s]		[INFO] Processing immediate_charging series:   7%|▋         | 80/1075 [00:47<09:57,  1.67series/s]		[INFO] Processing immediate_charging series:   8%|▊         | 90/1075 [00:53<09:43,  1.69series/s]		[INFO] Processing immediate_charging series:   9%|▊        | 100/1075 [00:59<09:51,  1.65series/s]		[INFO] Processing immediate_charging series:  10%|▉        | 110/1075 [01:05<09:41,  1.66series/s]		[INFO] Processing immediate_charging series:  11%|█        | 120/1075 [01:12<10:04,  1.58series/s]		[INFO] Processing immediate_charging series:  12%|█        | 130/1075 [01:19<10:10,  1.55series/s]		[INFO] Processing immediate_charging series:  13%|█▏       | 140/1075 [01:26<10:23,  1.50series/s]		[INFO] Processing immediate_charging series:  14%|█▎       | 150/1075 [01:33<10:26,  1.48series/s]		[INFO] Processing immediate_charging series:  15%|█▎       | 160/1075 [01:42<11:23,  1.34series/s]		[INFO] Processing immediate_charging series:  16%|█▍       | 170/1075 [01:48<10:34,  1.43series/s]		[INFO] Processing immediate_charging series:  17%|█▌       | 180/1075 [01:55<10:08,  1.47series/s]		[INFO] Processing immediate_charging series:  18%|█▌       | 190/1075 [02:01<09:50,  1.50series/s]		[INFO] Processing immediate_charging series:  19%|█▋       | 200/1075 [02:07<09:36,  1.52series/s]		[INFO] Processing immediate_charging series:  20%|█▊       | 210/1075 [02:15<09:47,  1.47series/s]		[INFO] Processing immediate_charging series:  20%|█▊       | 220/1075 [02:21<09:24,  1.51series/s]		[INFO] Processing immediate_charging series:  21%|█▉       | 230/1075 [02:27<09:02,  1.56series/s]		[INFO] Processing immediate_charging series:  22%|██       | 240/1075 [02:33<08:45,  1.59series/s]		[INFO] Processing immediate_charging series:  23%|██       | 250/1075 [02:39<08:36,  1.60series/s]		[INFO] Processing immediate_charging series:  24%|██▏      | 260/1075 [02:45<08:28,  1.60series/s]		[INFO] Processing immediate_charging series:  25%|██▎      | 270/1075 [02:51<08:17,  1.62series/s]		[INFO] Processing immediate_charging series:  26%|██▎      | 280/1075 [02:57<08:07,  1.63series/s]		[INFO] Processing immediate_charging series:  27%|██▍      | 290/1075 [03:03<07:59,  1.64series/s]		[INFO] Processing immediate_charging series:  28%|██▌      | 300/1075 [03:09<07:51,  1.64series/s]		[INFO] Processing immediate_charging series:  29%|██▌      | 310/1075 [03:16<07:49,  1.63series/s]		[INFO] Processing immediate_charging series:  30%|██▋      | 320/1075 [03:22<07:42,  1.63series/s]		[INFO] Processing immediate_charging series:  31%|██▊      | 330/1075 [03:28<07:37,  1.63series/s]		[INFO] Processing immediate_charging series:  32%|██▊      | 340/1075 [03:34<07:30,  1.63series/s]		[INFO] Processing immediate_charging series:  33%|██▉      | 350/1075 [03:40<07:24,  1.63series/s]		[INFO] Processing immediate_charging series:  33%|███      | 360/1075 [03:46<07:18,  1.63series/s]		[INFO] Processing immediate_charging series:  34%|███      | 370/1075 [03:52<07:12,  1.63series/s]		[INFO] Processing immediate_charging series:  35%|███▏     | 380/1075 [03:59<07:07,  1.63series/s]		[INFO] Processing immediate_charging series:  36%|███▎     | 390/1075 [04:05<07:02,  1.62series/s]		[INFO] Processing immediate_charging series:  37%|███▎     | 400/1075 [04:11<06:56,  1.62series/s]		[INFO] Processing immediate_charging series:  38%|███▍     | 410/1075 [04:17<06:51,  1.62series/s]		[INFO] Processing immediate_charging series:  39%|███▌     | 420/1075 [04:23<06:45,  1.61series/s]		[INFO] Processing immediate_charging series:  40%|███▌     | 430/1075 [04:30<06:40,  1.61series/s]		[INFO] Processing immediate_charging series:  41%|███▋     | 440/1075 [04:36<06:37,  1.60series/s]		[INFO] Processing immediate_charging series:  42%|███▊     | 450/1075 [04:43<06:35,  1.58series/s]		[INFO] Processing immediate_charging series:  43%|███▊     | 460/1075 [04:49<06:28,  1.58series/s]		[INFO] Processing immediate_charging series:  44%|███▉     | 470/1075 [04:55<06:21,  1.59series/s]		[INFO] Processing immediate_charging series:  45%|████     | 480/1075 [05:01<06:16,  1.58series/s]		[INFO] Processing immediate_charging series:  46%|████     | 490/1075 [05:08<06:08,  1.59series/s]		[INFO] Processing immediate_charging series:  47%|████▏    | 500/1075 [05:14<06:06,  1.57series/s]		[INFO] Processing immediate_charging series:  47%|████▎    | 510/1075 [05:20<05:57,  1.58series/s]		[INFO] Processing immediate_charging series:  48%|████▎    | 520/1075 [05:27<05:53,  1.57series/s]		[INFO] Processing immediate_charging series:  49%|████▍    | 530/1075 [05:34<05:50,  1.56series/s]		[INFO] Processing immediate_charging series:  50%|████▌    | 540/1075 [05:40<05:44,  1.55series/s]		[INFO] Processing immediate_charging series:  51%|████▌    | 550/1075 [05:46<05:38,  1.55series/s]		[INFO] Processing immediate_charging series:  52%|████▋    | 560/1075 [05:53<05:33,  1.55series/s]		[INFO] Processing immediate_charging series:  53%|████▊    | 570/1075 [06:00<05:29,  1.53series/s]		[INFO] Processing immediate_charging series:  54%|████▊    | 580/1075 [06:06<05:22,  1.53series/s]		[INFO] Processing immediate_charging series:  55%|████▉    | 590/1075 [06:13<05:16,  1.53series/s]		[INFO] Processing immediate_charging series:  56%|█████    | 600/1075 [06:19<05:09,  1.53series/s]		[INFO] Processing immediate_charging series:  57%|█████    | 610/1075 [06:26<05:05,  1.52series/s]		[INFO] Processing immediate_charging series:  58%|█████▏   | 620/1075 [06:32<05:00,  1.52series/s]		[INFO] Processing immediate_charging series:  59%|█████▎   | 630/1075 [06:39<04:51,  1.53series/s]		[INFO] Processing immediate_charging series:  60%|█████▎   | 640/1075 [06:46<04:45,  1.52series/s]		[INFO] Processing immediate_charging series:  60%|█████▍   | 650/1075 [06:52<04:37,  1.53series/s]		[INFO] Processing immediate_charging series:  61%|█████▌   | 660/1075 [06:59<04:32,  1.52series/s]		[INFO] Processing immediate_charging series:  62%|█████▌   | 670/1075 [07:05<04:27,  1.52series/s]		[INFO] Processing immediate_charging series:  63%|█████▋   | 680/1075 [07:12<04:21,  1.51series/s]		[INFO] Processing immediate_charging series:  64%|█████▊   | 690/1075 [07:19<04:16,  1.50series/s]		[INFO] Processing immediate_charging series:  65%|█████▊   | 700/1075 [07:25<04:09,  1.50series/s]		[INFO] Processing immediate_charging series:  66%|█████▉   | 710/1075 [07:32<04:03,  1.50series/s]		[INFO] Processing immediate_charging series:  67%|██████   | 720/1075 [07:39<03:57,  1.50series/s]		[INFO] Processing immediate_charging series:  68%|██████   | 730/1075 [07:46<03:51,  1.49series/s]		[INFO] Processing immediate_charging series:  69%|██████▏  | 740/1075 [07:52<03:44,  1.49series/s]		[INFO] Processing immediate_charging series:  70%|██████▎  | 750/1075 [07:59<03:38,  1.49series/s]		[INFO] Processing immediate_charging series:  71%|██████▎  | 760/1075 [08:06<03:31,  1.49series/s]		[INFO] Processing immediate_charging series:  72%|██████▍  | 770/1075 [08:13<03:25,  1.48series/s]		[INFO] Processing immediate_charging series:  73%|██████▌  | 780/1075 [08:20<03:21,  1.47series/s]		[INFO] Processing immediate_charging series:  73%|██████▌  | 790/1075 [08:26<03:13,  1.47series/s]		[INFO] Processing immediate_charging series:  74%|██████▋  | 800/1075 [08:33<03:08,  1.46series/s]		[INFO] Processing immediate_charging series:  75%|██████▊  | 810/1075 [08:40<03:00,  1.47series/s]		[INFO] Processing immediate_charging series:  76%|██████▊  | 820/1075 [08:47<02:53,  1.47series/s]		[INFO] Processing immediate_charging series:  77%|██████▉  | 830/1075 [08:53<02:45,  1.48series/s]		[INFO] Processing immediate_charging series:  78%|███████  | 840/1075 [09:00<02:38,  1.48series/s]		[INFO] Processing immediate_charging series:  79%|███████  | 850/1075 [09:07<02:31,  1.48series/s]		[INFO] Processing immediate_charging series:  80%|███████▏ | 860/1075 [09:14<02:26,  1.47series/s]		[INFO] Processing immediate_charging series:  81%|███████▎ | 870/1075 [09:21<02:19,  1.47series/s]		[INFO] Processing immediate_charging series:  82%|███████▎ | 880/1075 [09:28<02:13,  1.46series/s]		[INFO] Processing immediate_charging series:  83%|███████▍ | 890/1075 [09:34<02:06,  1.47series/s]		[INFO] Processing immediate_charging series:  84%|███████▌ | 900/1075 [09:41<01:59,  1.47series/s]		[INFO] Processing immediate_charging series:  85%|███████▌ | 910/1075 [09:48<01:53,  1.46series/s]		[INFO] Processing immediate_charging series:  86%|███████▋ | 920/1075 [09:55<01:47,  1.44series/s]		[INFO] Processing immediate_charging series:  87%|███████▊ | 930/1075 [10:02<01:40,  1.44series/s]		[INFO] Processing immediate_charging series:  87%|███████▊ | 940/1075 [10:09<01:34,  1.43series/s]		[INFO] Processing immediate_charging series:  88%|███████▉ | 950/1075 [10:16<01:27,  1.43series/s]		[INFO] Processing immediate_charging series:  89%|████████ | 960/1075 [10:23<01:20,  1.42series/s]		[INFO] Processing immediate_charging series:  90%|████████ | 970/1075 [10:30<01:13,  1.42series/s]		[INFO] Processing immediate_charging series:  91%|████████▏| 980/1075 [10:38<01:06,  1.42series/s]		[INFO] Processing immediate_charging series:  92%|████████▎| 990/1075 [10:45<00:59,  1.42series/s]		[INFO] Processing immediate_charging series:  93%|███████▍| 1000/1075 [10:52<00:52,  1.42series/s]		[INFO] Processing immediate_charging series:  94%|███████▌| 1010/1075 [10:59<00:45,  1.41series/s]		[INFO] Processing immediate_charging series:  95%|███████▌| 1020/1075 [11:06<00:39,  1.40series/s]		[INFO] Processing immediate_charging series:  96%|███████▋| 1030/1075 [11:13<00:32,  1.40series/s]		[INFO] Processing immediate_charging series:  97%|███████▋| 1040/1075 [11:20<00:24,  1.40series/s]		[INFO] Processing immediate_charging series:  98%|███████▊| 1050/1075 [11:28<00:17,  1.39series/s]		[INFO] Processing immediate_charging series:  99%|███████▉| 1060/1075 [11:35<00:10,  1.39series/s]		[INFO] Processing immediate_charging series: 100%|███████▉| 1070/1075 [11:42<00:03,  1.37series/s]		[INFO] Processing immediate_charging series: 100%|████████| 1075/1075 [11:50<00:00,  1.16series/s]		[INFO] Processing immediate_charging series: 100%|████████| 1075/1075 [11:50<00:00,  1.51series/s]
		[INFO] Saving grid_demand results...
		[INFO] Saving pv_loss results...
		[INFO] Saving initial_demand results...
		[INFO] Saving charging_demand results...
		[INFO] Saving G2B results...
		[INFO] Saving P2B results...
		[INFO] Saving G2V results...
		[INFO] Saving P2V results...
		[INFO] Saving V2B results...
		[INFO] Saving SOC results...
		[INFO] Saving unmet results...
		[INFO] Saving objective_value results...
		[INFO] Saving optimization_time_s results...
		[INFO] Saving mip_gap_percent results...
		[INFO] Saving total_cost results...
		[INFO] Saving self_sufficiency results...
		[INFO] Saving pv_utilization results...
		[INFO] Deleted checkpoint after full completion.
		[INFO] Case 3 completed.
